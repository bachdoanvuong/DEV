"use strict";(self.webpackChunkdev_community=self.webpackChunkdev_community||[]).push([[738],{83039:function(e,t,n){n.d(t,{Z:function(){return b}});var a=n(70885),o=n(72791),r=n(21288),i=n(59434),s=n(28735),c=n(69829),l=n(86853),u=n(48250),d=n(95798),g=n(39126),m=n(80184),f=function(e){var t=e.onChange;return(0,m.jsxs)(s.xu,{onClick:function(){document.querySelector(".toolbar_img_command").click()},justify:"center",m:"0",cursor:"pointer",w:"35px",h:"30px",pos:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:[(0,m.jsx)(d.II,{className:"toolbar_img_command",opacity:0,visibility:"hidden",w:"0",h:"0",type:"file",accept:"image/jpeg, image/png, image/jpg , image/webp, image/gif",onChange:t}),(0,m.jsx)(g.Lwf,{size:20,style:{position:"absolute",cursor:"pointer",zIndex:"1"}})]})},p=n(95763),x=(n(13440),n(49296),function(){var e=(0,r.getDefaultToolbarCommands)();return e[1].splice(3,1,"code-block","img_url"),e}),h={name:"code-block",icon:function(){return(0,m.jsx)(g.FJ$,{size:18,style:{position:"absolute"}})},execute:function(e){e.textApi.replaceSelection("```\n Enter code here... \n```")}},v=function(e){var t=e.MDEValue,n=e.setMDEValue,d=e.isSubmitting,g=e.setUploadingImg,v=(0,o.useState)(t||""),b=(0,a.Z)(v,2),j=b[0],w=b[1],N=(0,o.useState)("write"),y=(0,a.Z)(N,2),I=y[0],S=y[1],Z=(0,i.I0)();(0,o.useEffect)((function(){n?n(j):Z((0,p.U$)(j))}),[j,Z,n]),(0,o.useEffect)((function(){t||w(t)}),[t]),(0,o.useEffect)((function(){document.querySelector(".mde-text").disabled=!!d}),[d]);var k=function(e){var t=e.target.files[0];if(t){document.querySelector(".mde-text").disabled=!0,g(!0),w((function(e){return e.replace("![](img_url)","![](uploading...)")}));var n="images/".concat(C.name).concat((0,c.x0)());(0,l.Ix)(t,n).then((function(e){document.querySelector(".mde-text").disabled=!1,w((function(t){return t.replace("![](uploading...)","![](".concat(e,")"))})),g(!1)})).catch((function(e){return console.log(e)})),e.target.value=""}},C={name:"image_url",icon:function(){return(0,m.jsx)(f,{onChange:k})},execute:function(e){e.textApi.replaceSelection("![](img_url)")}};return(0,m.jsx)(s.xu,{w:"100%",fontFamily:"monospace",children:(0,m.jsx)(r.default,{commands:{"code-block":h,img_url:C},loadingPreview:"loading...",toolbarCommands:x(),value:j,onChange:w,selectedTab:I,onTabChange:S,generateMarkdownPreview:function(e){return Promise.resolve((0,u.Z)().makeHtml(e))}})})},b=o.memo(v)},48250:function(e,t,n){var a=n(89005);t.Z=function(){var e=new a.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0});return e}},89856:function(e,t,n){n.d(t,{L:function(){return o}});var a=n(26854),o=function(e){return a(e)}},37855:function(e,t,n){var a=n(42982),o=n(72791);t.Z=function(e,t){(0,o.useEffect)((function(){var n=function(n){n.stopPropagation();var o=(0,a.Z)(n.target.classList),r=o.some((function(e){return t.includes(e)}))||0===o.length;e(!!r)};return document.addEventListener("click",n),function(){return document.removeEventListener("click",n)}}),[e,t])}},55738:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var a=n(72791),o=n(16871),r=n(70885),i=n(28735),s=n(53046),c=n(28227),l=n(95798),u=n(92213),d=n(64097),g=n(81070),m=n(82504),f=n(69829),p=n(59434),x=n(86853),h=n(95763),v=n(80184),b=function(e){var t=e.cvImgFromLocalStorage,n=e.setUploadingImg,o=(0,a.useState)(t||""),b=(0,r.Z)(o,2),j=b[0],w=b[1],N=(0,a.useState)(!1),y=(0,r.Z)(N,2),I=y[0],S=y[1],Z=(0,p.I0)();(0,a.useEffect)((function(){Z((0,h.Wv)(j))}),[j,Z]);var k=(0,c.ff)("#d6d6d7","#3d3d3d"),C=(0,c.ff)("light.headingHover","dark.headingHover");return(0,v.jsxs)(i.kC,{mb:"1rem",justify:"flex-start",align:"center",flexWrap:"wrap",children:[I&&(0,v.jsxs)(i.Ug,{children:[(0,v.jsx)(u.$,{color:C,size:"md"}),(0,v.jsx)(i.xv,{letterSpacing:"1px",children:"Uploading..."})]}),!I&&j&&(0,v.jsx)(s.Ee,{src:j,alt:"cover_image",w:"250px",h:"105px",objectFit:"scale-down",mr:"1rem",borderRadius:"5px"}),!I&&(0,v.jsxs)(i.kC,{mt:"1",children:[(0,v.jsx)(g.u,{label:"Use a ratio of 100:42 for best result.","aria-label":"A tooltip",borderRadius:"3px",children:(0,v.jsxs)(m.zx,{as:"label",border:"2px solid",borderColor:k,m:"0",p:2,fontWeight:400,cursor:"pointer",children:[(0,v.jsx)(l.II,{display:"none",type:"file",accept:"image/jpeg, image/png, image/jpg , image/webp, image/gif",onChange:function(e){var t=e.target.files[0];if(t){j&&(0,x.CM)(j);var a="images/".concat(t.name).concat((0,f.x0)());S(!0),n(!0),(0,x.Ix)(t,a).then((function(e){S(!1),n(!1),w(e)})).catch((function(e){return console.log(e)}))}}}),j?"change":"Add a cover image"]})}),j&&(0,v.jsx)(d.ry,{color:"red",hoverColor:"red",onClick:function(){return e=j,w(""),void(0,x.CM)(e).catch((function(e){return console.log(e)}));var e},m:"0 0 0 .5rem",children:"Remove"})]})]})},j=a.memo(b),w=n(42982),N=n(94311),y=JSON.parse('[{"tagName":"javascript"},{"tagName":"typescript"},{"tagName":"react"},{"tagName":"angular","logo":"https://raw.githubusercontent.com/devicons/devicon/master/icons/angularjs/angularjs-original.svg"},{"tagName":"nodejs"},{"tagName":"express"},{"tagName":"mongodb"},{"tagName":"vue","logo":"https://raw.githubusercontent.com/devicons/devicon/master/icons/vuejs/vuejs-original.svg"},{"tagName":"svelte"},{"tagName":"go"},{"tagName":"c"},{"tagName":"csharp"},{"tagName":"php"},{"tagName":"python"},{"tagName":"graphql","logo":"https://www.vectorlogo.zone/logos/graphql/graphql-icon.svg"},{"tagName":"flutter"},{"tagName":"postgresql"},{"tagName":"firebase","logo":"https://www.vectorlogo.zone/logos/firebase/firebase-icon.svg"},{"tagName":"laraval","logo":"https://raw.githubusercontent.com/devicons/devicon/master/icons/laravel/laravel-plain-wordmark.svg"},{"tagName":"nextjs"},{"tagName":"gatsby"},{"tagName":"django","logo":"https://cdn.worldvectorlogo.com/logos/django.svg"},{"tagName":"electron"},{"tagName":"git"},{"tagName":"html5"},{"tagName":"css3"},{"tagName":"swift"},{"tagName":"ruby"},{"tagName":"bootstrap"},{"tagName":"tailwind","logo":"https://www.vectorlogo.zone/logos/tailwindcss/tailwindcss-icon.svg"},{"tagName":"redux"},{"tagName":"kotlin"},{"tagName":"dart"},{"tagName":"mysql"},{"tagName":"redis"},{"tagName":"sqlite"},{"tagName":"docker"},{"tagName":"dotnet","logo":"https://raw.githubusercontent.com/devicons/devicon/master/icons/dot-net/dot-net-original-wordmark.svg"},{"tagName":"figma"},{"tagName":"nuxtjs"},{"tagName":"unity"},{"tagName":"linux"}]'),I=n(14651),S=n(37855),Z=function(e){var t=e.filteredTagsFromLocalStorage,n=(0,a.useState)(y),o=(0,r.Z)(n,2),s=o[0],c=o[1],u=(0,a.useState)(""),d=(0,r.Z)(u,2),g=d[0],m=d[1],x=(0,a.useState)(!1),b=(0,r.Z)(x,2),j=b[0],Z=b[1],k=(0,a.useState)(t||[]),C=(0,r.Z)(k,2),E=C[0],D=C[1],P=(0,p.I0)();(0,a.useEffect)((function(){P((0,h.S7)(E))}),[E,P]);var T=(0,a.useRef)();(0,S.Z)(Z,["suggestion-box","tag-input"]);var z=function(){if(""!==g)return s.filter((function(e){return e.tagName.toLowerCase().includes(g.toLowerCase())}))},H=function(e){!function(e){D((function(t){return[].concat((0,w.Z)(t),[e])})),c((function(t){return t.filter((function(t){return t.tagName!==e.tagName}))}))}(e),m(""),T.current.focus(),setTimeout((function(){return Z(!0)}),100)},F=function(e){D((function(t){return t.filter((function(t){return t.tagName!==e.tagName}))})),e.isCustomTag||c((function(t){return[].concat((0,w.Z)(t),[e])}))},q=j&&z()?"flex":"none",M="Add tag ( ".concat(4-E.length," )");return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(i.xu,{mb:3,children:(0,v.jsxs)(i.Eq,{overflow:"visible",children:[E.map((function(e){return(0,v.jsx)(i.Uc,{pos:"relative",children:(0,v.jsx)(N.Z,{tag:e,onDeleteTag:function(){return F(e)},showCloseIcon:!0,children:(0,v.jsx)(I.S1K,{size:20})})},(0,f.x0)())})),4!==E.length&&(0,v.jsx)(i.Uc,{maxW:"120px",children:(0,v.jsx)(l.II,{h:"34px",w:"100%",px:".5rem",className:"tag-input",ref:T,placeholder:M,borderRadius:"5px",value:g,onChange:function(e){var t=e.target;return m(t.value)}})})]})}),(0,v.jsx)(i.kC,{wrap:"wrap",gap:".5rem",display:q,w:"100%",className:"suggestion-box shadowSecondary",m:"0 auto 1rem",p:3,overflow:"auto",borderRadius:"5px",maxH:"6rem",children:function(){if(z())return(E.find((function(e){return e.tagName===g}))?(0,w.Z)(z()):[{tagName:g,isCustomTag:!0}].concat((0,w.Z)(z()))).map((function(e){return(0,v.jsx)(i.Uc,{children:(0,v.jsx)(N.Z,{onAddTag:function(){return H(e)},tag:e})},(0,f.x0)())}))}()})]})},k=a.memo(Z),C=n(83039),E=n(74427),D=n(65223),P=n(82771),T=function(){var e=(0,D.qY)(),t=e.isOpen,n=e.onOpen,a=e.onClose,r=(0,o.s0)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(d.ry,{onClick:n,children:(0,v.jsx)(I.ven,{size:23})}),(0,v.jsxs)(P.u_,{isCentered:!0,onClose:a,isOpen:t,motionPreset:"none",closeOnOverlayClick:!1,size:{base:"full",md:"2xl"},children:[(0,v.jsx)(P.ZA,{}),(0,v.jsxs)(P.hz,{bg:(0,c.ff)("light.cardBg","dark.cardBg"),className:"shadow",children:[(0,v.jsx)(P.xB,{borderBottom:"1px solid",borderBottomColor:(0,c.ff)("light.cardBorder","dark.cardBorder"),p:"1rem",children:"You have unsaved changes"}),(0,v.jsx)(P.ol,{}),(0,v.jsxs)(P.fe,{mt:"1rem",p:".5rem 1rem",children:["You've made changes to your post. Do you want to navigate to leave this page?",(0,v.jsxs)(i.xu,{mt:5,mb:3,children:[(0,v.jsx)(d.GI,{mr:2,onClick:function(){return r(-1)},children:"Leave the page"}),(0,v.jsx)(d.HA,{onClick:a,children:"Keep editing"})]})]})]})]})]})},z=n(48250),H=n(89856),F=function(){return(0,v.jsx)(i.xv,{px:".5rem",fontSize:"15px",letterSpacing:".5px",background:(0,c.ff)("#FBE9E9","#3E1A1A"),color:"red",my:".5rem",children:"Title can't be blank!"})},q=(n(78914),n(56920)),M=function(){var e=(0,p.v9)((function(e){return e.postData})),t=e.cvImg,n=e.title,o=e.tags,r=e.MDEValue;return(0,a.useEffect)((function(){q.Z.highlightAll()}),[]),(0,v.jsxs)(i.xu,{h:{base:"calc(100vh - 140px)",md:"calc(100vh - 160px)"},overflowY:"auto",fontFamily:"monospace",fontSize:{base:"1rem",sm:"1.1rem"},className:"mde-preview",children:[t&&(0,v.jsx)(s.Ee,{src:t,alt:"cover_image",w:"100%",maxH:"300px",objectFit:"cover"}),n?(0,v.jsx)(i.X6,{my:2,children:n}):(0,v.jsx)(F,{}),(0,v.jsx)(i.Eq,{pt:".3rem",pb:"1.5rem",spacing:2,fontFamily:"sans-serif",children:o.map((function(e){return(0,v.jsx)(i.Uc,{children:(0,v.jsx)(N.Z,{tag:e})},(0,f.x0)())}))}),(0,v.jsx)(i.xu,{className:"mde-preview-content",fontSize:["16px","17px","19px"],children:(0,H.L)((0,z.Z)().makeHtml(r))})]})},U=function(e){var t=e.publishPostHandler,n=e.draftPostHandler,g=e.eidtPostHandler,m=e.setPostTitle,f=e.postTitle,p=e.postData,x=e.pageTitle,h=e.publishing,b=e.savingDraft,w=e.uploadingImg,N=e.setUploadingImg,y=e.toEdit,I=(0,o.s0)(),S=(0,a.useState)(!1),Z=(0,r.Z)(S,2),D=Z[0],P=Z[1],z=(0,a.useState)("write"),H=(0,r.Z)(z,2),q=H[0],U=H[1],_=function(e){U(e)},L=y&&!p.draft,A=function(e){P(!0),f&&e()};return(0,a.useEffect)((function(){"write"===q&&(document.querySelector(".mde-text").placeholder="Write your post content here...")}),[q]),(0,v.jsx)(i.xu,{mt:"-3.5rem",sx:{"input, textarea":{background:"transparent !important"}},children:(0,v.jsxs)(i.xu,{maxW:"768px",m:"auto",children:[(0,v.jsxs)(i.xu,{display:"flex",mx:{base:".5rem",lg:"0rem"},children:[(0,v.jsxs)(i.xu,{display:{base:"none",md:"flex"},alignItems:"center",mr:"auto",children:[(0,v.jsx)(s.Ee,{src:E,cursor:"pointer",alt:"logo",h:"40px",onClick:function(){return I("/")}}),(0,v.jsxs)(i.xv,{fontSize:"xl",ms:"1",children:[x," Post"]})]}),(0,v.jsxs)(i.xu,{ms:"auto",children:[(0,v.jsx)(d.ry,{onClick:function(){return _("write")},children:"Edit"}),(0,v.jsx)(d.ry,{m:"0 1rem 0 .5rem",onClick:function(){return _("preview")},disabled:w,children:"Preview"}),(0,v.jsx)(T,{})]})]}),(0,v.jsx)(i.xu,{height:"calc(100vh - 110px)",overflow:"auto",children:(0,v.jsxs)(i.xu,{align:"start",bg:(0,c.ff)("light.cardBg","dark.cardBg"),className:"shadow",borderRadius:"5px",mt:{base:".5rem",md:"1rem"},p:{base:".5rem",md:"1rem"},children:["write"===q&&(0,v.jsxs)(i.xu,{w:"100%",children:[(0,v.jsx)(j,{cvImgFromLocalStorage:null===p||void 0===p?void 0:p.cvImg,setUploadingImg:N}),(0,v.jsx)(l.II,{variant:"unstyled",ps:".5rem",placeholder:"New post title here...",bg:"transparent !important",fontSize:{base:"2rem",md:"2.5rem"},fontWeight:"700",value:f,height:"60px",_focus:{border:"none !important",boxShadow:"none !important"},m:"0",required:!0,onChange:function(e){var t=e.target;return m(t.value)},_placeholder:{color:"#525252"}}),D&&!f&&(0,v.jsx)(F,{}),(0,v.jsx)(k,{filteredTagsFromLocalStorage:null===p||void 0===p?void 0:p.tags}),(0,v.jsx)(i.xu,{w:"100%",mt:".5rem !important",children:(0,v.jsx)(C.Z,{MDEValue:null===p||void 0===p?void 0:p.MDEValue,isSubmitting:h||b,setUploadingImg:N})})]}),"preview"===q&&(0,v.jsx)(M,{})]})}),(0,v.jsxs)(i.Ug,{justify:"flex-end",w:"100%",py:".5rem",px:".5rem",pos:"sticky",bottom:"0",zIndex:"1",bg:(0,c.ff)("light.bg","dark.bg"),children:[!L&&(0,v.jsx)(d.ry,{onClick:function(){return A(n)},disabled:b||h||w,children:b?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(u.$,{size:"sm",mr:"1"})," Saving draft"]}):"Save draft"}),(0,v.jsx)(d.f6,{bg:"light.primary",onClick:function(){return A(L?g:t)},disabled:h||b||w,children:h?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(u.$,{size:"sm",mr:"1"})," ",L?"Saving changes":"Publishing"]}):(0,v.jsx)(v.Fragment,{children:L?"Save changes":"Publish"})})]})]})})},_=n(58241),L=n(1413),A=n(24507),B=function(e){var t=(0,o.s0)(),n=(0,p.I0)(),i=(0,_.a)(),s=(0,p.v9)((function(e){return e.postData})),c=(0,a.useMemo)((function(){return{cvImg:"",title:"",tags:[],MDEValue:"",userId:null===i||void 0===i?void 0:i.userId}}),[null===i||void 0===i?void 0:i.userId]),l=(0,a.useState)(e||(0,A.PM)("postDataToPublish")||c),u=(0,r.Z)(l,2),d=u[0],g=u[1],m=(0,a.useState)((null===d||void 0===d?void 0:d.title)||""),v=(0,r.Z)(m,2),b=v[0],j=v[1],w=(0,a.useState)(!1),N=(0,r.Z)(w,2),y=N[0],I=N[1],S=(0,a.useState)(!1),Z=(0,r.Z)(S,2),k=Z[0],C=Z[1],E=(0,a.useState)(!1),D=(0,r.Z)(E,2),P=D[0],T=D[1];(0,a.useEffect)((function(){n((0,h.sj)(b))}),[b,n]),(0,a.useEffect)((function(){var e={cvImg:s.cvImg,title:s.title,tags:s.tags,MDEValue:s.MDEValue,userId:null===i||void 0===i?void 0:i.userId};g((function(t){return(0,L.Z)((0,L.Z)({},t),e)}))}),[s,null===i||void 0===i?void 0:i.userId]),(0,a.useEffect)((function(){(0,A.m8)(e?"postDataToManage":"postDataToPublish",JSON.stringify(d))}),[d,e]);return{postData:d,title:b,setTitle:j,publishing:k,savingDraft:P,uploadingImg:y,setUploadingImg:I,publishPostHandler:function(){C(!0),d.draft&&(0,x.fR)(d.id),(0,x.qb)((0,L.Z)((0,L.Z)({},d),{},{draft:!1})).then((function(e){C(!1),t("/dashboard"),(0,A.bZ)("postDataToPublish"),(0,A.bZ)("postDataToManage")})).catch((function(e){C(!1),console.log(e)}))},draftPostHandler:function(){T(!0);var e=d.draft?-1:"/dashboard/drafts";(0,x.FE)((0,L.Z)((0,L.Z)({},d),{},{draft:!0,id:d.id||(0,f.x0)().replaceAll("_","-")})).then((function(n){T(!1),t(e),(0,A.bZ)("postDataToPublish"),(0,A.bZ)("postDataToManage")})).catch((function(e){T(!1),console.log(e)}))},eidtPostHandler:function(){C(!0),(0,x.dq)((0,L.Z)((0,L.Z)({},d),{},{updated:!0})).then((function(e){C(!1),t(-1),(0,A.bZ)("postDataToManage")})).catch((function(e){C(!1),console.log(e)}))}}},R=function(e){var t=e.currentPostDataToEdit;(0,a.useEffect)((function(){return window.scrollTo(0,0)}),[]);var n=(0,_.a)(),r=B(t),i=r.postData,s=r.title,c=r.setTitle,l=r.publishing,u=r.savingDraft,d=r.uploadingImg,g=r.setUploadingImg,m=r.publishPostHandler,f=r.draftPostHandler,p=r.eidtPostHandler;return n?(0,v.jsx)(U,{publishPostHandler:m,draftPostHandler:f,eidtPostHandler:p,setPostTitle:c,postTitle:s,postData:i,pageTitle:t?"Edit":"Create",publishing:l,savingDraft:u,uploadingImg:d,setUploadingImg:g,toEdit:!!t}):(0,v.jsx)(o.Fg,{to:"/create-account",replace:!0})}},49296:function(){},78914:function(){}}]);
//# sourceMappingURL=738.88436050.chunk.js.map